# Scheduler Backend Server

Простой бэкенд для поддержки многопользовательского режима планировщика.

## Установка

```bash
cd server
npm install
```

## Запуск

```bash
npm start
```

Сервер запустится на `http://localhost:3000`

Для разработки с автоматической перезагрузкой:

```bash
npm run dev
```

## Использование

### Одиночный режим
Откройте `http://localhost:3000` - данные будут храниться в localStorage браузера

### Групповой режим
Откройте `http://localhost:3000/group/[ID]` где `[ID]` - любой идентификатор группы (например, `1234`, `my-team`, и т.д.)

**Примеры:**
- `http://localhost:3000/group/1234`
- `http://localhost:3000/group/family`
- `http://localhost:3000/group/work-team`

Все пользователи, открывшие один и тот же URL группы, будут видеть общий календарь с задачами. Изменения синхронизируются в реальном времени через WebSocket.

### Важно
- **Задачи (tasks)** - общие для всех участников группы, хранятся на сервере
- **Настройки (settings)** - индивидуальные для каждого пользователя, хранятся в localStorage

## API Endpoints

### GET `/api/groups/:groupId/tasks`
Получить все задачи для группы

### POST `/api/groups/:groupId/tasks`
Обновить задачи для группы

Body: `{ "tasks": [...] }`

## WebSocket Events

### Client -> Server
- `join-group` - присоединиться к группе
- `update-tasks` - обновить задачи группы
- `leave-group` - покинуть группу

### Server -> Client
- `tasks-updated` - задачи группы обновлены

## Технологии
- Express.js - веб-сервер
- Socket.io - WebSocket для real-time синхронизации
- CORS - для поддержки запросов с разных доменов

## Заметки
- Данные хранятся в памяти (in-memory), при перезапуске сервера все данные теряются
- Для продакшена рекомендуется использовать постоянное хранилище (MongoDB, PostgreSQL, Redis и т.д.)
